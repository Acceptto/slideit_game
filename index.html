<html>
<head>
    <link rel="stylesheet" href="style.css">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0">
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lottie-web/5.7.4/lottie.min.js"></script>
    <style>
        #beautifulText {
            text-align: center;
            margin: 20px auto;
            padding: 15px;
            font-size: 20px;
            color: #333; /* Dark text color for contrast */
            background-color: #f8f8f8; /* Light background for universality */
            border-radius: 10px; /* Optional: for rounded corners */
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1); /* Optional: subtle shadow for depth */
            max-width: 80%;
            text-align: left; /* Aligns paragraph text to the left */
        }
        /* Other styles */
    </style>
</head>
<body>
    <!-- Lottie animation container -->
    <div id="lottieAnimation" style="width: 300px; height: 300px; margin: auto;"></div>
    <!-- Beautiful text section -->
    <div id="beautifulText">
        Welcome! âœ¨
        <p>Dive into our captivating puzzle game and put your finger agility to the test. Ready for the challenge?</p>
    </div>
    <script>

    var lottieAnimationInstance; // To store the Lottie animation instance

    function loadLottieAnimation() {
        lottieAnimationInstance = lottie.loadAnimation({
            container: document.getElementById('lottieAnimation'),
            path: 'main.json',
            renderer: 'svg',
            loop: true,
            autoplay: true
        });
    }
        
        // Init TWA
        Telegram.WebApp.ready();

                window.onload = function() {
            if (window.Telegram && window.Telegram.WebApp) {
                window.Telegram.WebApp.expand();
                loadLottieAnimation(); // Initialize the Lottie animation
            }
        };

        // Event occurs whenever theme settings are changed in the user's Telegram app (including switching to night mode).
        Telegram.WebApp.onEvent('themeChanged', function() {
            document.documentElement.className = Telegram.WebApp.colorScheme;
        });

        // Show main button
        Telegram.WebApp.MainButton.setParams({
            text: 'PLAY NOW'
        });
    Telegram.WebApp.MainButton.show();

// Modify the MainButton onClick event
Telegram.WebApp.MainButton.onClick(function () {
    // Hide and stop the Lottie animation
    var lottieContainer = document.getElementById('lottieAnimation');
    if (lottieAnimationInstance) {
        lottieAnimationInstance.stop();
    }
    
    if (lottieContainer) {
        lottieContainer.remove();
    }

    var textBlock = document.getElementById('beautifulText');
    if (textBlock) {
        textBlock.remove();
    }
    
    // Hide the Main Button
    Telegram.WebApp.MainButton.hide();

    // Load game.html as a new page
    loadGame();
});
        
function loadGame() {
    // Redirect to game.html
    window.location.href = 'game.html';
}
</script>
</body>
</html>
